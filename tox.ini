# Copyright (c) 2021 LG Electronics
# SPDX-License-Identifier: Apache-2.0
[tox]
envlist = test_run
skipdist = true

[testenv]
install_command = pip install {opts} {packages}
basepython= python3.6

[flake8]
max-line-length = 145
exclude = .tox/*

[pytest]
filterwarnings = ignore::DeprecationWarning

[testenv:test_run]
deps =
    -r{toxinidir}/requirements-dev.txt

setenv =
  PYTHONPATH=.

commands =
    fosslight_reuse -h
    fosslight_reuse -p src/ -r "test_result/reuse_result.xml"
    fosslight_reuse -p src/ -f "fosslight_reuse/wrapper_reuse_lint.py" -r "test_result2/reuse_result.xml"
    pytest -v --flake8
